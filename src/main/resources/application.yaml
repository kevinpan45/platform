server:
  port: ${instance.port:8080}
spring:
  application:
    name: ${instance.name}
  datasource:
    url: jdbc:mysql://${instance.database.host:localhost}:${instance.database.port:3306}/${instance.database.schema}?createDatabaseIfNotExist=true&useUnicode=true&characterEncoding=UTF-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: ${instance.database.username:root}
    password: ${instance.database.password}
    driver-class-name: com.mysql.cj.jdbc.Driver
  messages:
    basename: i18n/messages/messages
    encoding: UTF-8
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  flyway:
    locations:
      - classpath:db/migration
    enabled: true
  cloud:
    consul:
      port: 8500
      host: localhost
      enabled: true
      discovery:
        enabled: true
        health-check-path: /actuator/health
        health-check-interval: 15s
        service-name: ${spring.application.name}
        instance-id: ${spring.application.name}:${server.port}
  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: https://sandrino.auth0.com/.well-known/jwks.json

# Log Configuration
logging:
  level:
    root: INFO
    '[org.springframework.web]': INFO
  file:
    name: app.log
  logback:
    rollingpolicy:
      max-file-size: 10MB
      max-history: 10

# Springboot Management Configuration
management:
  server:
    port: 8081
  endpoints:
    web:
      exposure:
        include: env,health,shutdown,service-registry